<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    {% load static %} <!-- load the static files -->
    <meta charset="UTF-8" />
    <title>PRODUCTS!</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    
     <!-- add the css files -->
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
     <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">


 
     <!-- add the js files -->
     <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
     <script type="text/javascript" src="{% static 'js/script.js' %}"></script>
</head>

<body>
    <section id="messages">
        {% if messages %}
        <p class=" messages notification">
            {% for message in messages %}
            <li {% if messages.tags %} class = {{messages.tags}} {% endif %}>{{message}}</li>
            {% endfor %}
        </p>
        {% endif %}
    </section>

    <h1>Products</h1>
    <table border = 1 cellspacing = 0 cellpadding = 5>
        <th>Name</th> <th>Description</th> <th>Price (KSH)</th><th>Availability</th> <th>Actions</th> <th>Details</th>
        {% for product in products %}
         <tr>
            <td>{{product.name}}</td>
            <td>{{product.description}}</td>
            <td>{{product.price}}</td>
            <td>
                {% if product.availability %} Yes {% else %} No {% endif %}

            </td>
            <td><a href="update/{{product.id}}"><button>Update Product</button></a> || <a href="delete_product/{{product.pk}}"><button>Delete Product</button></a></td>
            <td><a href="../{{product.id}}"><button>View Product</button></a></td>
        </tr>
        {% empty %}
        <tr>
            <td   colspan="4">No Product is availabe at the moment.</td>
        </tr>
        {% endfor %}
    </table>
    <br> <br>

    <a href="addp/"><button>Add Product</button></a>
</body>

</html>